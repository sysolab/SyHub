# /home/<YOUR_USER>/syhub/templates/mosquitto.conf.j2
# Configuration for Mosquitto MQTT Broker
# Generated by syhub.sh from template

# --- Listener ---
# Listen on the configured port on all available interfaces (IPv4 and IPv6)
listener __MQTT_PORT__ 0.0.0.0
# protocol mqtt # Default is mqtt

# --- Security ---
# Disallow anonymous connections
allow_anonymous false
# Specify the password file containing usernames and hashed passwords
password_file /etc/mosquitto/passwd

# --- Persistence ---
# Save in-memory database to disk
persistence true
persistence_location /var/lib/mosquitto/
persistence_file mosquitto.db
autosave_interval 1800 # Save every 30 minutes (default)

# --- Logging ---
# Log to file (adjust as needed)
log_dest file /var/log/mosquitto/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information
# log_type all # Uncomment for very verbose debugging
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# --- Optional Settings ---
# Maximum queued messages (per client)
# max_queued_messages 1000
# System resource usage limits (optional)
# memory_limit 128 # In MB
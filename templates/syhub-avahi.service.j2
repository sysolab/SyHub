# /home/<YOUR_USER>/syhub/templates/syhub-avahi.service.j2
  # Avahi/mDNS service definition for syHub services
  # Generated by syhub.sh from template
  # Will be copied to /etc/avahi/services/syhub.service
  
  <?xml version="1.0" standalone='no'?><!--*-nxml-*-->
  <!DOCTYPE service-group SYSTEM "avahi-service.dtd">
  <service-group>
    <name replace-wildcards="yes">%h __PROJECT_NAME__</name> <!-- Advertise hostname and project name -->
    <service>
      <type>_device-info._tcp</type> <!-- Optional: Advertise device type -->
      <port>0</port>
      <txt-record>model=Raspberry Pi</txt-record>
    </service>
  
    <!-- Web Dashboard -->
    <service>
      <type>_http._tcp</type>
      <port>__DASHBOARD_PORT__</port>
      <txt-record>app=syHubDashboard</txt-record>
      <txt-record>project=__PROJECT_NAME__</txt-record>
      <interface>ap0</interface> <!-- Explicitly advertise on the AP interface -->
      <interface>wlan0</interface> <!-- Also advertise on the STA interface if active -->
      <interface>eth0</interface>  <!-- Also advertise on Ethernet if active -->
    </service>
  
    <!-- Node-RED UI -->
    <service>
      <type>_node-red._tcp</type> <!-- Standard type for Node-RED -->
      <port>__NODERED_PORT__</port>
      <txt-record>app=syHubNodeRED</txt-record>
      <txt-record>path=/</txt-record>
       <interface>ap0</interface>
       <interface>wlan0</interface>
       <interface>eth0</interface>
    </service>
  
    <!-- MQTT Broker -->
    <service>
      <type>_mqtt._tcp</type>
      <port>__MQTT_PORT__</port>
      <txt-record>app=syHubMQTT</txt-record>
      <txt-record>secure=false</txt-record>
       <interface>ap0</interface>
       <interface>wlan0</interface>
       <interface>eth0</interface>
    </service>
  
  </service-group>
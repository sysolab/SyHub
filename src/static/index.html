<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>__PROJECT_NAME__ IoT Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="/static/css/styles.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">__PROJECT_NAME__ IoT Dashboard</h1>
        <div id="charts">
            <canvas id="temperature-chart"></canvas>
            <canvas id="pH-chart"></canvas>
            <canvas id="ORP-chart"></canvas>
            <canvas id="TDS-chart"></canvas>
            <canvas id="EC-chart"></canvas>
            <canvas id="distance-chart"></canvas>
        </div>
        <script>
            const fields = ['temperature', 'pH', 'ORP', 'TDS', 'EC', 'distance'];
            fields.forEach(field => {
                fetch('/data/' + field)
                    .then(response => response.json())
                    .then(data => {
                        const ctx = document.getElementById(field + '-chart').getContext('2d');
                        new Chart(ctx, {
                            type: 'line',
                            data: {
                                labels: data.map(d => new Date(d.time * 1000)),
                                datasets: [{
                                    label: field.charAt(0).toUpperCase() + field.slice(1),
                                    data: data.map(d => d.value),
                                    borderColor: 'rgba(75, 192, 192, 1)',
                                    fill: false
                                }]
                            },
                            options: {
                                responsive: true,
                                scales: {
                                    x: { type: 'time', time: { unit: 'minute' } }
                                }
                            }
                        });
                    });
            });
        </script>
    </div>
</body>
</html>